<app-menu></app-menu>
<div id="table-wrapper">
    <div id="sub-menu">
        <a id="add-user" [routerLink]="['/orderline/add/', ord.id]"><i class="fa-solid fa-cart-plus"></i></a>
    </div>
    <!-- Display Order -->
    <table class="table table-striped">
        <thead>
            <!-- <tr>
                <th>Id</th>
                <th>Date</th>
                <th>Description</th>
                <th>Total</th>
                <th>Customer</th>
                <th>Status</th>
                <th>Update Status</th>
            </tr> -->
        </thead>
        <tbody id="order-item">
            <tr>
                <td><span>ID: </span> {{ord.id}}</td>
                <td><span>Date: </span>{{ord.date}}</td>
                <td><span>Desc: </span>{{ord.description}}</td>
                <td><span>Total: </span>{{ord.total | currency}}</td>
                <td><span>Cust: </span>{{ord.customer?.name}}</td>
                <td><span>Status: </span>{{ord.status}}</td>
                <td>
                    <span class="btn-span"><button (click)="ok()" class="btn-circle stat-green">OK</button></span>
                    <span class="btn-span"><button (click)="backorder()" class="btn-circle stat-orange">B/O</button></span>
                    <span class="btn-span"><button (click)="closed()" class="btn-circle stat-red">CLOSE</button></span>
                    
                </td>
            </tr>
        </tbody>
    </table>
    <!-- Display Orderlines -->
    <!-- for order to be created on current order -->
    <table class="table table-striped" *ngIf="ord">
        <thead>
            <tr>
                <th>Id<i class="fa-solid fa-sort"></i></th>
                <th>Item<i class="fa-solid fa-sort"></i></th>
                <th>Quantity<i class="fa-solid fa-sort" ></i></th>
                <th>Price<i class="fa-solid fa-sort" ></i></th>
                <th>Subtotal<i class="fa-solid fa-sort"></i></th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let o of ord.orderlines">
                <td>{{o.id}}</td>
                <td>{{o.item?.name}}</td>
                <td>{{o.quantity}}</td>
                <td>{{o.item?.price | currency}}</td>
                <td>{{o.quantity * o.item?.price! | currency}}</td>
                <td>
                    <a [routerLink]="['/orders/get/', o.id]">Details</a> |
                    <a [routerLink]="['/orders/edit/', o.id]">Edit</a>
                </td>
            </tr>
        </tbody>
    </table>
</div>